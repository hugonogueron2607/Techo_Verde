<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Techo Verde - Monitor de Sensores</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="style.css" rel="stylesheet">
</head>
<body class="bg-gray-100 font-sans p-4">
  <header class="bg-green-600 text-white p-4 flex justify-between items-center">
    <h1 class="text-3xl font-bold text-center my-6 text-gray-800">Techo Verde</h1>
    <button id="menuBtn" class="text-white">☰ Menú</button>
  </header>

  <nav id="menu" class="hidden bg-white shadow-md p-4 mt-2">
    <button data-view="dashboard" class="mr-4">Panel Principal</button>
    <button data-view="history">Historial de Sensores</button>
  </nav>

  <main id="dashboardView" class="mt-4">
    <h2 class="text-center text-lg font-semibold mb-4">Lecturas recientes - Sensor <span id="sensorLabel">S1</span></h2>
    <div class="flex justify-center mb-4">
      <select id="sensorSelect" class="p-2 border rounded">
        <!-- Opciones dinámicas desde JS -->
      </select>
    </div>
    <div class="flex flex-wrap justify-center gap-4">
      <canvas id="sensorChart" class="bg-white p-2 rounded shadow w-full md:w-[48%]"></canvas>
      <table class="w-full md:w-[48%] bg-white rounded shadow">
        <thead><tr class="bg-gray-200"><th class="p-2 border">Timestamp</th><th class="p-2 border">Valor</th></tr></thead>
        <tbody id="sensorTableBody"></tbody>
      </table>
    </div>
  </main>

  <main id="historyView" class="mt-4 hidden">
    <h2 class="text-center text-lg font-semibold mb-4">Comparativa de Sensores</h2>
    <canvas id="compareChart" class="bg-white p-4 rounded shadow w-full"></canvas>
    <div class="flex justify-end mt-2">
      <button id="downloadBtn" class="bg-blue-500 text-white px-4 py-2 rounded">Descargar Imagen</button>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="main.js"></script>
</body>
</html>
